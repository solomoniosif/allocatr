<!-- Modal Header -->
<header class="flex justify-end">
  <button
    class="inline-flex items-center justify-center w-6 h-6 text-gray-400 transition-colors duration-150 rounded dark:hover:text-gray-200 hover: hover:text-gray-700 focus:outline-none"
    aria-label="close"
    @click="closeModal"
  >
    <svg
      class="w-4 h-4"
      fill="currentColor"
      viewBox="0 0 20 20"
      role="img"
      aria-hidden="true"
    >
      <path
        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
        clip-rule="evenodd"
        fill-rule="evenodd"
      ></path>
    </svg>
  </button>
</header>

 <!-- Modal body -->
 <div class="px-1 py-6 space-y-4 max-w-xl text-gray-900 dark:text-white">
    <dl class="grid grid-cols-6 gap-6">

        <div class="col-span-12 sm:col-span-6 px-4 py-3 rounded-lg w-full bg-gray-200 dark:bg-gray-700">
            <dd class="text-2xl font-semibold">{{ transaction.title }}</dd>
        </div>

        <div class="col-span-6 sm:col-span-3">
            {% if transaction.get_transaction_type_display == 'Income' %}
            <dd class="text-xl font-semibold text-green-600">
            <i class="bi bi-arrow-up-right"></i> lei {{ transaction.amount|floatformat:0 }}
            </dd>

            {% elif transaction.get_transaction_type_display == 'Expense' %}
            <dd class="text-xl font-semibold text-red-600">
            <i class="bi bi-arrow-down-right"></i> lei {{ transaction.amount|floatformat:0 }}
            </dd>

            {% elif transaction.get_transaction_type_display == 'Transfer' %}
            <dd class="text-xl font-semibold text-blue-500">
            <i class="bi bi-arrow-left-right"></i> lei {{ transaction.amount|floatformat:0 }}
            </dd>
            {% endif %}
        </div>

        <div class="col-span-6 sm:col-span-3">
            <dd class="text-lg font-semibold">{{ transaction.date|date:"d M Y" }}</dd>
        </div>

        <div class="col-span-6 sm:col-span-3">
            <dt class="mb-1 text-gray-500 md:text-lg dark:text-gray-400">Account</dt>
            <dd class="text-lg font-semibold">
                <span
                    class="px-2 py-1 font-semibold leading-tight rounded-lg"
                    style="background-color: {{ transaction.account.color }}; color: {{ transaction.account.text_color }}"
                    >
                {{ transaction.account }}
                </span>
            </dd>
        </div>

        <div class="col-span-6 sm:col-span-3">
            <dt class="mb-1 text-gray-500 md:text-lg dark:text-gray-400">Category</dt>
            <dd class="text-lg font-semibold">
                <span class="px-2 py-1 rounded-lg" style="background-color: {{ transaction.category.color }}; color: {{ transaction.category.text_color }}; opacity: 0.8;">
                {{ transaction.category }}
                </span>
            </dd>
        </div>



    </dl>
</div>


<!-- Modal Footer -->
<footer
  class="flex flex-col items-center justify-end px-6 py-3 -mx-6 -mb-4 space-y-4 sm:space-y-0 sm:space-x-6 sm:flex-row bg-gray-50 dark:bg-gray-800"
>
    <button
        hx-post="{% url 'wallet:delete_transaction' transaction.pk %}"
        hx-trigger="confirmed"
        _="on click
             call Swal.fire({title: 'Are you sure?', text:'You will not be able to revert this!', icon: 'warning', showConfirmButton: true, showCancelButton: true, confirmButtonText: 'Yes, delete it!'})
             if result.isConfirmed trigger confirmed end on transactionDeleted call Swal.fire({title: 'Transaction deleted successfully', icon: 'success', timer: 2000})"
        class="w-full px-5 py-3 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-red-600 border border-transparent rounded-lg sm:w-auto sm:px-4 sm:py-2 active:bg-purple-600 hover:bg-red-800 focus:outline-none focus:shadow-outline-purple"
    >
        Delete
    </button>

    {% if transaction.get_transaction_type_display == 'Income' %}
    <button
        hx-get="{% url 'wallet:edit_income' pk=transaction.pk %}"
        hx-trigger="click"
        hx-target="#modal"
        class="w-full px-5 py-3 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-accent border border-transparent rounded-lg sm:w-auto sm:px-4 sm:py-2 active:bg-purple-600 hover:bg-accent-darkest focus:outline-none focus:shadow-outline-purple"
        >
        Edit income
    </button>

    {% elif transaction.get_transaction_type_display == 'Expense' %}
    <button
        hx-get="{% url 'wallet:edit_expense' pk=transaction.pk %}"
        hx-trigger="click"
        hx-target="#modal"
        class="w-full px-5 py-3 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-accent border border-transparent rounded-lg sm:w-auto sm:px-4 sm:py-2 active:bg-purple-600 hover:bg-accent-darkest focus:outline-none focus:shadow-outline-purple"
        >
        Edit expense
    </button>
    {% elif transaction.get_transaction_type_display == 'Transfer' %}
    <button
      hx-get="{% url 'wallet:edit_transfer' pk=transaction.pk %}"
      hx-trigger="click"
      hx-target="#modal"
      class="w-full px-5 py-3 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-accent border border-transparent rounded-lg sm:w-auto sm:px-4 sm:py-2 active:bg-purple-600 hover:bg-accent-darkest focus:outline-none focus:shadow-outline-purple"
      >
      Edit transfer
    </button>
    {% endif %}

    <button
        @click="closeModal"
        class="w-full px-5 py-3 text-sm font-medium leading-5 text-gray-700 transition-colors duration-150 border border-gray-300 rounded-lg dark:text-gray-400 sm:px-4 sm:py-2 sm:w-auto active:bg-transparent hover:border-gray-500 focus:border-gray-500 active:text-gray-500 focus:outline-none focus:shadow-outline-gray"
    >
        Cancel
  </button>

</footer>
